<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.2.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"amonxu.com","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Change will not come if we wait for some other person or some other time.We are the ones we&#39;ve been waiting for. We are the change that we seek.">
<meta property="og:type" content="website">
<meta property="og:title" content="Amon&#39;s Blog">
<meta property="og:url" content="https://amonxu.com/zh-CN/page/6/index.html">
<meta property="og:site_name" content="Amon&#39;s Blog">
<meta property="og:description" content="Change will not come if we wait for some other person or some other time.We are the ones we&#39;ve been waiting for. We are the change that we seek.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Amon Xu">
<meta property="article:tag" content="逐鹿IT,猛猛如玉,amonxu,xumeng,Java,程序员,程序员进阶,程序人生,程序世界,Java开发,Java高级开发,架构师,全栈,后端开发,产品经理,CTO,CIO,CEO,Java进阶,架构,性能调优,数据结构,算法,Spring,微服务,JVM,Docker,K8s,Kubernetes,DevOps,AI,AIGC,LangChain,LLM,ChatGPT,OpenAI,Bard,文心一言,通义千问,机器学习,大数据,人工智能,深度学习,Go,Golang,iOS,SpringCloud,SpringBoot,SpringMVC,Oracle,MySQL,Linux,MongoDB,K8S,职场故事,职场趣事,求职,面试,生涯规划,BAT,一线互联网,编程,云计算,蚂蚁金服,阿里巴巴,腾讯,百度,Google,Facebook,Amazon,重构,互联网,企业智能,项目管理,技术管理,领导力,创新力,企业管理,MBA,开发者,编程,代码,IT,软件工程,软件工程师,软件工程师进阶,高级软件工程师,开源,IT技术博客,IT网站,Developer,Programmer,Coder,Geek,architecture,coding,development,996,信阳,深圳,mengxu,徐猛,猛徐">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://amonxu.com/zh-CN/page/6/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"zh-CN/page/6/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Amon's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LF5S8MWY7N"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-LF5S8MWY7N","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>

  <script src="/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?bb453e3ffbbd5a718313dd9977009208"></script>







  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Amon's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Amon's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">猛猛如玉</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="https://about.amonxu.com/" rel="section" target="_blank"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-projects"><a href="https://about.amonxu.com/en#projects" rel="section" target="_blank"><i class="fa fa-file fa-fw"></i>Projects</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">139</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">9</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">122</span></a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li><li class="menu-item menu-item-english"><a href="/en/" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="/zh-CN/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Amon Xu"
      src="https://avatars1.githubusercontent.com/u/2187660?v=3&s=460">
  <p class="site-author-name" itemprop="name">Amon Xu</p>
  <div class="site-description" itemprop="description">Change will not come if we wait for some other person or some other time.<br>We are the ones we've been waiting for. We are the change that we seek.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">122</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">139</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/xumeng" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xumeng" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://amonxu.medium.com/" title="Medium → https:&#x2F;&#x2F;amonxu.medium.com" rel="noopener me" target="_blank"><i class="fab fa-medium fa-fw"></i>Medium</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/amonxu" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;amonxu" rel="noopener me" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/users/3090339/amonxu" title="S.O. → https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;3090339&#x2F;amonxu" rel="noopener me" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>S.O.</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:gosuxm@gmail.com" title="E-Mail → mailto:gosuxm@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-inbox fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://zhihu.com/people/amonxu" title="知乎 → http:&#x2F;&#x2F;zhihu.com&#x2F;people&#x2F;amonxu" rel="noopener me" target="_blank"><i class="fab fa-zhihu fa-fw"></i>知乎</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://m.okjike.com/users/C230C450-1B24-445E-98DD-0391148DCDC9" title="即刻 → https:&#x2F;&#x2F;m.okjike.com&#x2F;users&#x2F;C230C450-1B24-445E-98DD-0391148DCDC9" rel="noopener me" target="_blank"><i class="fa fa-smile fa-fw"></i>即刻</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.douban.com/people/gosu" title="豆瓣 → https:&#x2F;&#x2F;www.douban.com&#x2F;people&#x2F;gosu" rel="noopener me" target="_blank"><i class="fa fa-smile fa-fw"></i>豆瓣</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          链接
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://amonxu.com/" title="https:&#x2F;&#x2F;amonxu.com">猛猛如玉</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="http://www.frontendjs.com/" title="http:&#x2F;&#x2F;www.frontendjs.com" rel="noopener" target="_blank">前站导航</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="http://geekplux.com/" title="http:&#x2F;&#x2F;geekplux.com" rel="noopener" target="_blank">GeekPlux</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://wmdpd.com/" title="https:&#x2F;&#x2F;wmdpd.com" rel="noopener" target="_blank">完美的胖达</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://blog.forecho.com/" title="https:&#x2F;&#x2F;blog.forecho.com" rel="noopener" target="_blank">forecho</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://www.fi-ads.com/" title="https:&#x2F;&#x2F;www.fi-ads.com" rel="noopener" target="_blank">Future iDeal</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://www.lllomh.com/" title="https:&#x2F;&#x2F;www.lllomh.com&#x2F;" rel="noopener" target="_blank">芈渡</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://blog.linxiaodong.com/" title="https:&#x2F;&#x2F;blog.linxiaodong.com" rel="noopener" target="_blank">林晓东</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://blog.ops-coffee.cn/" title="https:&#x2F;&#x2F;blog.ops-coffee.cn" rel="noopener" target="_blank">运维咖啡吧</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://blog.csun.site/" title="https:&#x2F;&#x2F;blog.csun.site&#x2F;" rel="noopener" target="_blank">Sun Blog</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://www.91es.com/" title="https:&#x2F;&#x2F;www.91es.com&#x2F;" rel="noopener" target="_blank">91易搜</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://www.wangwangit.com/" title="https:&#x2F;&#x2F;www.wangwangit.com" rel="noopener" target="_blank">一只会飞的旺旺</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://zishu.me/" title="https:&#x2F;&#x2F;zishu.me" rel="noopener" target="_blank">子舒</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://amonxu.com/2018/09/28/zh-CN/2018-09-28-iOS-Setting/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/2187660?v=3&s=460">
      <meta itemprop="name" content="Amon Xu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amon's Blog">
      <meta itemprop="description" content="Change will not come if we wait for some other person or some other time.<br>We are the ones we've been waiting for. We are the change that we seek.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Amon's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/09/28/zh-CN/2018-09-28-iOS-Setting/" class="post-title-link" itemprop="url">Charles 抓 HTTPS 包设置</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-09-28 11:12:13" itemprop="dateCreated datePublished" datetime="2018-09-28T11:12:13+08:00">2018-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Technology/" itemprop="url" rel="index"><span itemprop="name">Technology</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2018/09/28/zh-CN/2018-09-28-iOS-Setting/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/09/28/zh-CN/2018-09-28-iOS-Setting/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>手机浏览器打开 <a target="_blank" rel="noopener" href="http://chls.pro/ssl">http://chls.pro/ssl</a>，安装相关证书即可。</p>
<p>部分设备安装证书后还有问题，请看下面：</p>
<blockquote>
<p>On iOS 10.3: Settings &gt; General &gt; About (logically…) &gt; Certificate Trust Settings &gt; Enable Full Trust for Root Certificates</p>
</blockquote>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://forums.developer.apple.com/message/212408#212408">https://forums.developer.apple.com/message/212408#212408</a></p>
<p><a target="_blank" rel="noopener" href="https://forums.developer.apple.com/thread/71789">https://forums.developer.apple.com/thread/71789</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/bumaociyuan/ios-ipa-server/issues/23#issuecomment-293828854">https://github.com/bumaociyuan/ios-ipa-server/issues/23#issuecomment-293828854</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://amonxu.com/2018/08/29/zh-CN/2018-08-29-Seasons-Regret/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/2187660?v=3&s=460">
      <meta itemprop="name" content="Amon Xu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amon's Blog">
      <meta itemprop="description" content="Change will not come if we wait for some other person or some other time.<br>We are the ones we've been waiting for. We are the change that we seek.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Amon's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/08/29/zh-CN/2018-08-29-Seasons-Regret/" class="post-title-link" itemprop="url">四季怨</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-08-29 12:06:05" itemprop="dateCreated datePublished" datetime="2018-08-29T12:06:05+08:00">2018-08-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AF%97/" itemprop="url" rel="index"><span itemprop="name">诗</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2018/08/29/zh-CN/2018-08-29-Seasons-Regret/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/08/29/zh-CN/2018-08-29-Seasons-Regret/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://wx4.sinaimg.cn/mw690/8cba4200gy1fuqg12kfqmj20yi1pcgp3.jpg" alt="sjy"></p>
<p><strong>四季怨</strong> <a target="_blank" rel="noopener" href="http://music.163.com/#/m/song?id=424477863">🎵</a>  </p>
<p> 樱红柳绿春光转，<br> 山碧水墨夏意暖。<br> 云雨秋风携冬来，<br> 犹望美人恨生晚。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://amonxu.com/2018/08/28/zh-CN/2018-08-28-Qing-Shan-Shi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/2187660?v=3&s=460">
      <meta itemprop="name" content="Amon Xu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amon's Blog">
      <meta itemprop="description" content="Change will not come if we wait for some other person or some other time.<br>We are the ones we've been waiting for. We are the change that we seek.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Amon's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/08/28/zh-CN/2018-08-28-Qing-Shan-Shi/" class="post-title-link" itemprop="url">青衫湿</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-08-28 16:32:45" itemprop="dateCreated datePublished" datetime="2018-08-28T16:32:45+08:00">2018-08-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AF%97/" itemprop="url" rel="index"><span itemprop="name">诗</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2018/08/28/zh-CN/2018-08-28-Qing-Shan-Shi/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/08/28/zh-CN/2018-08-28-Qing-Shan-Shi/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://wx2.sinaimg.cn/mw690/8cba4200gy1fuqg30f69dj20yi1pcgph.jpg" alt="qss"></p>
<p><strong>青衫湿</strong> <a target="_blank" rel="noopener" href="http://music.163.com/#/m/song?id=461656630">🎵</a>  </p>
<p> 登高车马深，<br> 倚楼山水昏。<br> 每见尾气起，<br> 犹思炊烟升。<br> 挥汗十余载，<br> 无悔付青春。<br> 愿求她长伴，<br> 青衫易功勋。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://amonxu.com/2018/07/12/zh-CN/2018-07-12-Damn-A-shares/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/2187660?v=3&s=460">
      <meta itemprop="name" content="Amon Xu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amon's Blog">
      <meta itemprop="description" content="Change will not come if we wait for some other person or some other time.<br>We are the ones we've been waiting for. We are the change that we seek.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Amon's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/07/12/zh-CN/2018-07-12-Damn-A-shares/" class="post-title-link" itemprop="url">中美贸易战：A股与美股的天上人间</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-07-12 18:18:18" itemprop="dateCreated datePublished" datetime="2018-07-12T18:18:18+08:00">2018-07-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%87%91%E8%9E%8D/" itemprop="url" rel="index"><span itemprop="name">金融</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2018/07/12/zh-CN/2018-07-12-Damn-A-shares/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/07/12/zh-CN/2018-07-12-Damn-A-shares/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>中美贸易战来袭：<br>A股：我跌<br>美股：我意思一下  </p>
<p>贸易战势头加剧：<br>A股：我继续跌<br>美股：我跟跌  </p>
<p>贸易战恐慌：<br>A股：我大跌<br>美股：我再意思一下  </p>
<p>双方有意磋谈：<br>A股：我还跌<br>美股：该涨了吧（一次上涨抹平跌幅）  </p>
<p>双方会谈：<br>A股：我涨一点意思一下<br>美股：涨涨涨，创新高  </p>
<p>特朗普出尔反尔：<br>A股：我暴跌（一次下跌抹平涨幅）<br>美股：咋回事，我涨  </p>
<p>贸易战卷土重来：<br>A股：我猛跌，创新低，夭寿啦夭寿啦<br>美股：你冷静点，我涨了  </p>
<p>贸易战云里雾里：<br>A股：我继续跌，下探底部在哪<br>美股：不好意思，我又创新高了  </p>
<p>贸易战不知所终：<br>A股：怕了吗，信不信我还是跌<br>美股：来人啊！救命啊！这里有个神经病啊……  </p>
<p><img src="http://p3.pstatp.com/large/pgc-image/1529890701829ba3799f673" alt="pic"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://amonxu.com/2018/06/20/zh-CN/2018-06-20-Farewell-Shenzhen/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/2187660?v=3&s=460">
      <meta itemprop="name" content="Amon Xu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amon's Blog">
      <meta itemprop="description" content="Change will not come if we wait for some other person or some other time.<br>We are the ones we've been waiting for. We are the change that we seek.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Amon's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/06/20/zh-CN/2018-06-20-Farewell-Shenzhen/" class="post-title-link" itemprop="url">临行小事</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-06-20 18:17:19" itemprop="dateCreated datePublished" datetime="2018-06-20T18:17:19+08:00">2018-06-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/" itemprop="url" rel="index"><span itemprop="name">鬼画弧</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2018/06/20/zh-CN/2018-06-20-Farewell-Shenzhen/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/06/20/zh-CN/2018-06-20-Farewell-Shenzhen/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>妻子在给女儿换衣服，<br>丈夫顶着蓬松的头发四处寻找，<br>“梳子呢，你带走了吗？”<br>“嗯，在包里”<br>丈夫转身去行李里翻找。</p>
<p>妻子换罢衣服，<br>过来从一堆行李里利索地拿起了梳子。<br>丈夫接过梳子去镜前梳头发。  </p>
<p>“你为我梳一次头发吧”<br>“不会”<br>“你梳了那么多次了，给我梳一次吧”  </p>
<p>妻子走来走去地收拾着东西，<br>丈夫拿着梳子跟在后面，<br>拗不过，妻子拿过梳子。</p>
<p>这是她第一次为他梳头，<br>零星的白发藏在一头并不浓密的头发中间，<br>她用手抚握住前面的头发，<br>用梳子轻轻地往后梳。</p>
<p>等到几束头发都梳到后面，<br>他递上捏在手中的皮筋，<br>她拿起皮筋将握在手中的头发扎起来。</p>
<p>她欠身准备继续去忙，<br>他拉着她的手，<br>不舍放开。</p>
<p>他凝视着镜中的自己，<br>还没等她们离开，<br>他便有些不舍了。<br>他对着镜子咧嘴扭曲着五官，<br>想记起些什么。  </p>
<p>他换上鞋子，准备出门。<br>她唤女儿，<br>“跟爸爸来个临别的拥抱吧”<br>女儿马上黏了过来，<br>他俯下身子抱着女儿。</p>
<p>“明天这个时候你们就在老家啦”<br>“爸爸，你不跟我们回去吗”<br>“爸爸在这里，等你们”</p>
<p>他再往下俯了些，<br>然后起身离去。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://amonxu.com/2018/05/13/zh-CN/2018-05-13-Old-Place/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/2187660?v=3&s=460">
      <meta itemprop="name" content="Amon Xu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amon's Blog">
      <meta itemprop="description" content="Change will not come if we wait for some other person or some other time.<br>We are the ones we've been waiting for. We are the change that we seek.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Amon's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/05/13/zh-CN/2018-05-13-Old-Place/" class="post-title-link" itemprop="url">旧泥路旧村庄</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-05-13 21:12:39" itemprop="dateCreated datePublished" datetime="2018-05-13T21:12:39+08:00">2018-05-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/" itemprop="url" rel="index"><span itemprop="name">鬼画弧</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2018/05/13/zh-CN/2018-05-13-Old-Place/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/05/13/zh-CN/2018-05-13-Old-Place/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="http://p3.pstatp.com/large/pgc-image/1526216841461267c43ec53" alt="cover"></p>
<p>很久没走过这趟路，村前往东南的路，一条鲜有人走的路。</p>
<p>它算不上一条路，因为根本没有一条路。这趟路通到东南水塘上的菜园，它需要经过稻场、穿过一条条田埂、跨过排水渠，再爬上水塘埂就到了。如果绕着水塘和边上的菜园走上半圈，翻过菜园后面的一座高土埂，就可以来到隔壁村屋后。</p>
<p>这趟路除了附近田地的庄稼人和菜园的主人，一个寡居老人，几无人走。加上隔壁村与我们两村之间少有来往，据我所知几无亲戚或通婚之类，所以这趟路鲜有人走，又因位置偏僻加上没有可通行的路，附近村走亲戚都路过不了这里。</p>
<p>二姑嫁到了隔壁村的隔壁村后，我们一家便成了这趟路的少有的过客。小时候，每逢去二姑家，翻田埂、过菜园、爬上水塘，站在村前东南高处，面朝西北回望着村庄。它像一块沉睡的石头，安静地枕在风中、睡在雨里，向回望者诉说着它的不舍。</p>
<p>作客归来，穿过隔壁村庄从土埂下来，又一次站在村前东南高处，遥看到村庄，她四周被田地和池塘包围着，东边是高地，西边是洼地，南边是平原田地，北边是山。她蛰伏着，默默欢迎归来的人们。</p>
<p>当我走进村庄，拥抱了村庄，村庄拥抱了我，将我裹进怀里，露出她的一块块肌肉和血管。“不识庐山真面目，只缘身在此山中”，村庄静静的诉说着她的不一样。</p>
<hr>
<p>很久没有走过这条路，站在东南，面向西北望着村庄。现在我回到这里，村庄也在这里，我凝视着村庄，村庄也凝视着我。</p>
<p>很久不见！<br>很久不见。<br>我回来了。<br>你回来了。<br>你在等我？<br>你在等我。<br>我在外地，如何等你。<br>你在等我。<br>你知道我会回来？<br>你会回来。<br>我没有想过回来。<br>你会回来。<br>你了解我？<br>我了解你。<br>呵，你看着我从小到大十几年，应该了解我。<br>我了解你。<br>谁了解你？<br>我了解我。<br>这么多年，没人了解你？<br>我了解我。<br>我不想回来，我长大了，为了远离你，去远方，再也不回来。<br>你会回来。<br>等到落叶归根？<br>落叶归根。<br>那时你还在么？<br>我还在。<br>可能你会拆掉，重建，甚至废弃？<br>我还在。<br>一直在这里？<br>在这里。<br>现在是在哪里？在梦里？<br>在梦里。</p>
<hr>
<p>我站在东塘埂上望着，东头小金家起火了，隔壁大飞门前看到了熟悉的人群，村庄有了久未拥有的热闹。我背着东西，和几人一起往东南逃离。</p>
<p>在梦里？小金年前已经搬去新盖的新农村楼房里，拜年时我去过，300来平的独栋三层小别墅，小金媳妇与以前住在拥挤的民房里完全不一样。大飞一家搬到镇上已有几年，大飞门前怕是多少年没有人群聚集过了。</p>
<p>村庄凝视着我，<br>你会回来，<br>都会回来，<br>我见证了你祖辈们的生老病死，你们，也不例外。</p>
<hr>
<p>醒来时，深圳三点，外面月色渐弱，远处大楼点亮的光，路灯下偶尔疾驰的车辆。<br>此时村庄应该是漆黑一片，天色将明，所有一切都沉睡着，除了村庄。<br>哪里是梦，哪里又是现实呢。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://amonxu.com/2018/05/12/zh-CN/2018-05-12-ES-Remark/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/2187660?v=3&s=460">
      <meta itemprop="name" content="Amon Xu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amon's Blog">
      <meta itemprop="description" content="Change will not come if we wait for some other person or some other time.<br>We are the ones we've been waiting for. We are the change that we seek.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Amon's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/05/12/zh-CN/2018-05-12-ES-Remark/" class="post-title-link" itemprop="url">ES 备忘</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-05-12 16:43:39" itemprop="dateCreated datePublished" datetime="2018-05-12T16:43:39+08:00">2018-05-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Technology/" itemprop="url" rel="index"><span itemprop="name">Technology</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2018/05/12/zh-CN/2018-05-12-ES-Remark/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/05/12/zh-CN/2018-05-12-ES-Remark/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h4 id="Date-Histogram时区："><a href="#Date-Histogram时区：" class="headerlink" title="Date Histogram时区："></a>Date Histogram时区：</h4><p>遇到一个按时间统计数据不一致的bug，怀疑是时区的问题，设置下时区即可。</p>
<p><strong>查询语句中：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;query&quot;: &#123;&#125;,</span><br><span class="line">  &quot;aggs&quot;: &#123;</span><br><span class="line">    &quot;dateAgg&quot;: &#123;</span><br><span class="line">      &quot;date_histogram&quot;: &#123;</span><br><span class="line">        &quot;field&quot;: &quot;@timestamp&quot;,</span><br><span class="line">        &quot;interval&quot;: &quot;1d&quot;,      //1s/1m/1h/1d/1w/1M/1q/1y</span><br><span class="line">        &quot;format&quot;: &quot;yyyy-MM-dd&quot;,</span><br><span class="line">        &quot;time_zone&quot;: &quot;+08:00&quot;    //时区设置</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Java 中：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">AggregationBuilder</span> <span class="variable">aggregationBuilder</span> <span class="operator">=</span> AggregationBuilders.dateHistogram(<span class="string">&quot;dateAgg&quot;</span>).field(<span class="string">&quot;@timestamp&quot;</span>).dateHistogramInterval(DateHistogramInterval.DAY).format(<span class="string">&quot;yyyy-MM-dd&quot;</span>).timeZone(DateTimeZone.forID(<span class="string">&quot;Asia/Shanghai&quot;</span>));</span><br></pre></td></tr></table></figure>
<p>参考资料:<a target="_blank" rel="noopener" href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/_looking_at_time.html">官方文档</a></p>
<hr>
<h4 id="Date-Histogram统计后再去重"><a href="#Date-Histogram统计后再去重" class="headerlink" title="Date Histogram统计后再去重"></a>Date Histogram统计后再去重</h4><p>查询语句:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&quot;aggs&quot;: &#123;</span><br><span class="line">    &quot;dateAgg&quot;: &#123;</span><br><span class="line">      &quot;date_histogram&quot;: &#123;</span><br><span class="line">        &quot;field&quot;: &quot;@timestamp&quot;,</span><br><span class="line">        &quot;interval&quot;: &quot;1d&quot;,</span><br><span class="line">        &quot;format&quot;: &quot;yyyy-MM-dd&quot;,</span><br><span class="line">        &quot;time_zone&quot;: &quot;+08:00&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;aggs&quot;: &#123;</span><br><span class="line">        &quot;distinctUserIdAgg&quot;: &#123;</span><br><span class="line">          &quot;cardinality&quot;: &#123;</span><br><span class="line">            &quot;field&quot;: &quot;user_id&quot;,         //去重字段</span><br><span class="line">            &quot;precision_threshold&quot;: 1000    //精度，范围0-40000</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p><strong>Java中：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">CardinalityAggregationBuilder</span> <span class="variable">userIdAggregationBuilder</span> <span class="operator">=</span> AggregationBuilders.cardinality(<span class="string">&quot;userIdAgg&quot;</span>).field(<span class="string">&quot;user_id&quot;</span>).precisionThreshold(<span class="number">40000</span>);</span><br><span class="line">                aggregationBuilder.subAggregation(userIdAggregationBuilder);</span><br></pre></td></tr></table></figure>

<p>参考资料:<a target="_blank" rel="noopener" href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/cardinality.html">官方文档</a></p>
<hr>
<h4 id="根据分数区间统计"><a href="#根据分数区间统计" class="headerlink" title="根据分数区间统计"></a>根据分数区间统计</h4><p>例如要统计班级学生考试分数哪个区间的人最多。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;query&quot;: &#123;&#125;,</span><br><span class="line">  &quot;aggs&quot;: &#123;</span><br><span class="line">    &quot;scoreAgg&quot;: &#123;</span><br><span class="line">      &quot;histogram&quot;: &#123;</span><br><span class="line">        &quot;field&quot;: &quot;score&quot;,   //根据哪个字段划分区间</span><br><span class="line">        &quot;interval&quot;: 10,     //划分区间大小</span><br><span class="line">        &quot;order&quot;: &#123;</span><br><span class="line">          &quot;_count&quot;: &quot;desc&quot;  //排序</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参考资料:<a target="_blank" rel="noopener" href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/_building_bar_charts.html">官方文档</a></p>
<hr>
<h4 id="根据分数区间统计后再去重"><a href="#根据分数区间统计后再去重" class="headerlink" title="根据分数区间统计后再去重"></a>根据分数区间统计后再去重</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;query&quot;: &#123;&#125;,</span><br><span class="line">  &quot;aggs&quot;: &#123;</span><br><span class="line">    &quot;scoreAgg&quot;: &#123;</span><br><span class="line">      &quot;histogram&quot;: &#123;</span><br><span class="line">        &quot;field&quot;: &quot;score&quot;,</span><br><span class="line">        &quot;interval&quot;: 10,</span><br><span class="line">        &quot;order&quot;: &#123;</span><br><span class="line">          &quot;_count&quot;: &quot;desc&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;aggs&quot;: &#123;</span><br><span class="line">        &quot;userIdAgg&quot;: &#123;</span><br><span class="line">          &quot;cardinality&quot;: &#123;</span><br><span class="line">            &quot;field&quot;: &quot;user_id&quot;,</span><br><span class="line">            &quot;precision_threshold&quot;: 1000</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Fielddata-is-disabled-on-text-fields-by-default-Set-fielddata-true-on-xxx-in-order-to-load-fielddata-in-memory-by-uninverting-the-inverted-index-Note-that-this-can-however-use-significant-memor"><a href="#Fielddata-is-disabled-on-text-fields-by-default-Set-fielddata-true-on-xxx-in-order-to-load-fielddata-in-memory-by-uninverting-the-inverted-index-Note-that-this-can-however-use-significant-memor" class="headerlink" title="Fielddata is disabled on text fields by default. Set fielddata&#x3D;true on xxx in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memor"></a>Fielddata is disabled on text fields by default. Set fielddata&#x3D;true on xxx in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memor</h4><p>这个错误的官方解释在这里: <code>Fielddata can consume a lot of heap space, especially when loading high cardinality text fields. Once fielddata has been loaded into the heap, it remains there for the lifetime of the segment. Also, loading fielddata is an expensive process which can cause users to experience latency hits. This is why fielddata is disabled by default.</code></p>
<p>解决方案:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">curl -XPUT &#x27;http://&#123;ip&#125;:&#123;port&#125;/&#123;index_name&#125;/_mapping/&#123;type_name&#125;&#x27; -d &#x27;</span><br><span class="line">&#123;       </span><br><span class="line">  &quot;properties&quot;: &#123;</span><br><span class="line">        &quot;&#123;field_name&#125;&quot;: &#123;  </span><br><span class="line">            &quot;type&quot;: &quot;text&quot;,</span><br><span class="line">            &quot;fielddata&quot;: true</span><br><span class="line">        &#125;       </span><br><span class="line">    &#125;         </span><br><span class="line">&#125;&#x27;</span><br></pre></td></tr></table></figure>

<ul>
<li>type_name:ES中type的值</li>
<li>field_name:要top统计字段的名字</li>
</ul>
<p>参考资料:<a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/fielddata.html">官方文档</a>。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://amonxu.com/2018/05/10/zh-CN/2018-05-10-Hello-Gitment/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/2187660?v=3&s=460">
      <meta itemprop="name" content="Amon Xu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amon's Blog">
      <meta itemprop="description" content="Change will not come if we wait for some other person or some other time.<br>We are the ones we've been waiting for. We are the change that we seek.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Amon's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/05/10/zh-CN/2018-05-10-Hello-Gitment/" class="post-title-link" itemprop="url">Hello Gitment</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-05-10 11:42:39" itemprop="dateCreated datePublished" datetime="2018-05-10T11:42:39+08:00">2018-05-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2018/05/10/zh-CN/2018-05-10-Hello-Gitment/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/05/10/zh-CN/2018-05-10-Hello-Gitment/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://images.unsplash.com/photo-1481622254766-0f0a35bf6e77?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=571f6724a7088c40e3f4cb2acf1bec87&auto=format&fit=crop&w=1500&q=80" alt="cover"><br>换 Disqus 才一年，因为被 Q，本来就清静的博客更清静了，索性再也看不到任何评论，忧伤。</p>
<p>最近又看到一个讨论国内社会化评论系统的帖子，兴之所致接入 Gitment。</p>
<p>网上有不少教程，可以按照教程一步步操作。说说我的踩坑过程：</p>
<hr>
<h5 id="1-更新主题"><a href="#1-更新主题" class="headerlink" title="1. 更新主题"></a>1. 更新主题</h5><p>我的博客采用的是 <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo">hexo</a> + <a target="_blank" rel="noopener" href="https://github.com/litten/hexo-theme-yilia">hexo-theme-yilia</a>，首先更新了<code>hexo-theme-yilia</code>主题。</p>
<h5 id="2-配置信息"><a href="#2-配置信息" class="headerlink" title="2. 配置信息"></a>2. 配置信息</h5><p>发现<code>hexo-theme-yilia</code>主题自带支持<code>Gitment</code>，如下</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">gitment_owner:</span> <span class="comment">#      #你的 GitHub ID</span></span><br><span class="line"><span class="attr">gitment_repo:</span> <span class="string">&#x27;#&#x27;</span>          <span class="comment">#存储评论的 repo</span></span><br><span class="line"><span class="attr">gitment_oauth:</span></span><br><span class="line">  <span class="attr">client_id:</span> <span class="string">&#x27;#&#x27;</span>           <span class="comment">#client ID</span></span><br><span class="line">  <span class="attr">client_secret:</span> <span class="string">&#x27;#&#x27;</span>       <span class="comment">#client secret</span></span><br></pre></td></tr></table></figure>
<p>去<a target="_blank" rel="noopener" href="https://github.com/settings/applications/new">创建一个 OAuth application</a>，并获取相关信息填入其中。</p>
<h5 id="3-部署博客"><a href="#3-部署博客" class="headerlink" title="3. 部署博客"></a>3. 部署博客</h5><p>进入博客文章详情，可以看到文章底部已经有评论模块了。</p>
<h5 id="4-初始化评论"><a href="#4-初始化评论" class="headerlink" title="4. 初始化评论"></a>4. 初始化评论</h5><p>可以自己点进博客手动点击初始化，也可以使用<a target="_blank" rel="noopener" href="https://draveness.me/git-comments-initialize">自动初始化 Gitalk 和 Gitment 评论</a>。</p>
<p>遇到一个蛋疼的问题是当文章链接过长的时候(超过 50 个字符)，会报<code>Validation Failed</code>错误。</p>
<p>解决办法：</p>
<ul>
<li>如果是手动初始化的，可以考虑在 Gitment 配置里面用<code>page.date</code>代替<code>url</code>，这样就不会超出 50 个字符了。</li>
<li>如果是使用自动初始化的 ruby 脚本，可以改下代码，思路有几种：<blockquote>
<ol>
<li>将 url 截取不超过 50 个字符</li>
<li>将 url md5 加密或者 Base64 编码</li>
<li>用时间来代替(估计比较蛋疼，涉及时间格式转换)</li>
<li>设置博客的<code>permalink</code>，保证 url 长度在 50 个字符以内</li>
<li>其它大胆的想法…<br>我采用的是第 1 种方案。</li>
</ol>
</blockquote>
</li>
</ul>
<p><strong>FBI Warning! FBI Warning! FBI Warning!</strong></p>
<p>因为 Issue 需要和文章对应，改完代码后，还需要在博客源码里面改下 Gitment 的配置，使两处生成的值一致。</p>
<p><em>Ruby 脚本修改一处：</em></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.body = &#123; <span class="symbol">body:</span> url, <span class="symbol">labels:</span> [kind, url[<span class="number">0</span>,<span class="number">48</span>]], <span class="symbol">title:</span> title &#125;.to_json</span><br></pre></td></tr></table></figure>

<p><em>Gitment 配置修改一处：</em></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gitment = <span class="keyword">new</span> <span class="title class_">Gitment</span>(&#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="string">&quot;&lt;%= url %&gt;&quot;</span>.<span class="title function_">substring</span>(<span class="number">0</span>,<span class="number">48</span>),</span><br></pre></td></tr></table></figure>

<p>为方便还晕着的，再贴下原来的代码以便区分：</p>
<p><em>原 Ruby 脚本：</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.body = &#123; body: url, labels: [kind, url], title: title &#125;.to_json</span><br></pre></td></tr></table></figure>

<p><em>原 Gitment 配置：</em></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gitment = <span class="keyword">new</span> <span class="title class_">Gitment</span>(&#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="string">&quot;&lt;%=url%&gt;&quot;</span>,</span><br></pre></td></tr></table></figure>

<h5 id="5-大功告成"><a href="#5-大功告成" class="headerlink" title="5. 大功告成"></a>5. 大功告成</h5><h5 id="6-后续问题"><a href="#6-后续问题" class="headerlink" title="6. 后续问题"></a>6. 后续问题</h5><ul>
<li>之前旧的评论不能导入：理论上可以实现，解析 Disqus 导出的评论文件，然后添加到文章的评论内。看有无必要了。</li>
<li>后续每次添加新文章，都需要手动初始化下评论：同样可以使用脚本初始化，或者发布文章部署时自动调用以初始化。</li>
</ul>
<h3 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h3><p><a target="_blank" rel="noopener" href="https://imsun.net/posts/gitment-introduction/">Gitment：使用 GitHub Issues 搭建评论系统</a></p>
<p><a target="_blank" rel="noopener" href="https://draveness.me/git-comments-initialize">自动初始化 Gitalk 和 Gitment 评论</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/57afa4844aaa">Gitment评论功能接入踩坑教程</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://amonxu.com/2018/05/01/zh-CN/2018-05-01-Dog-Talk/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/2187660?v=3&s=460">
      <meta itemprop="name" content="Amon Xu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amon's Blog">
      <meta itemprop="description" content="Change will not come if we wait for some other person or some other time.<br>We are the ones we've been waiting for. We are the change that we seek.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Amon's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/05/01/zh-CN/2018-05-01-Dog-Talk/" class="post-title-link" itemprop="url">狗与人说 - 五月</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-05-01 00:00:00" itemprop="dateCreated datePublished" datetime="2018-05-01T00:00:00+08:00">2018-05-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Note/" itemprop="url" rel="index"><span itemprop="name">Note</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2018/05/01/zh-CN/2018-05-01-Dog-Talk/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/05/01/zh-CN/2018-05-01-Dog-Talk/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>周五，天晴，午后。</p>
<p>15:00 股票收盘后，放弃盯着泛绿的持仓，拿起水杯咕咚灌下几口，时光恍惚间变得慵懒了些。</p>
<p>QQ 闪来一句消息，老家的表弟分享一条游戏抽奖链接。往上一条消息，是过年时候他群发的祝福。表弟差我十二岁，素来不甚亲近，我生他未生，他生我少年，等他少年我已结婚生子成年。</p>
<hr>
<p>表弟分享游戏里的抽奖链接，<br>我心想：这小家伙，放假玩游戏啦。<br>回复道：“。。”<br>表弟：“！”<br>“小家伙，回家了吗？”<br>“对”<br>“在干吗呢”<br>“打游戏”</p>
<hr>
<p>“嘿！怎么又在玩游戏？”。我本想问这一句。</p>
<p>但那一刻忽然想起了，十几年前的初中，周五放学后，裹拥着人群出了校门，和几个同村的小伙伴一路迎着夕阳，边玩边走回到了家。放下书包望着一周未摸的小霸王，趁机耍把魂斗罗。不一会，小伙伴溜来，拉着要在门前趁着天色尚亮玩一波。</p>
<p>几天不见的柳树又长出了新叶，田野里庄稼发的更绿，脚下的土地因为久无玩耍的我们而显得有些冰凉。</p>
<p>家家烟囱里升起了晚饭的炊烟，窗户里飘出了香味。过不一会，回家吃饭的叫喊声此起彼伏，小伙伴依依不舍道别。</p>
<hr>
<p>我不该问这么扫兴的问题，十几岁的我，讨厌被说教、讨厌被上课，只想沉浸在自己的小小世界里。</p>
<p>“拍张家里的照片看看天气如何”<br>过了些会，表弟发来如图。<br><img src="http://p9.pstatp.com/large/pgc-image/15251771417336b075e2465" alt="51"><br>水边的树，茂密的枝叶遮住了五月的天空，天空上满布白云。</p>
<hr>
<p>已是五月，该回家看看了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://amonxu.com/2018/03/17/zh-CN/2018-03-17-Good-Bye-Big-Brother/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/2187660?v=3&s=460">
      <meta itemprop="name" content="Amon Xu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amon's Blog">
      <meta itemprop="description" content="Change will not come if we wait for some other person or some other time.<br>We are the ones we've been waiting for. We are the change that we seek.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Amon's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/03/17/zh-CN/2018-03-17-Good-Bye-Big-Brother/" class="post-title-link" itemprop="url">大哥，后会有期！</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-03-17 21:45:00" itemprop="dateCreated datePublished" datetime="2018-03-17T21:45:00+08:00">2018-03-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%81%8C%E8%AF%B4/" itemprop="url" rel="index"><span itemprop="name">职说</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2018/03/17/zh-CN/2018-03-17-Good-Bye-Big-Brother/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/03/17/zh-CN/2018-03-17-Good-Bye-Big-Brother/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="http://p3.pstatp.com/large/pgc-image/152129501374456fc6bfb6e" alt="cover_img"></p>
<h5 id="前注"><a href="#前注" class="headerlink" title="前注"></a>前注</h5><blockquote>
<p>本文原创作者Amon Xu，转载请注明作者与链接，谢谢:D</p>
</blockquote>
<h3 id="壹"><a href="#壹" class="headerlink" title="壹"></a>壹</h3><p>”16 点会议室开会，讨论接下来到 6 月份的工作计划。“<br>一阵默默无言。<br>……</p>
<p>今天是大哥上班最后一天，大家都想和大哥多呆上一会。<br>”大哥，什么时候走？“  ——  ”一会，等 Boss 签字。“<br>“现在走吗？我送你。”  ——  “还要一会。”<br>“要不要一起去开会，最后一次。”  ——  “我不用了，你们去吧。”<br>……</p>
<p>会议正进行时，大哥在微信群里发了一个红包：祝大家工作顺利。彼时，会议室唾沫横飞、激扬文字，窗外四点钟的太阳依旧强烈，大哥开车飞快驶往广州，视野两边的一切都迅速被甩在身后。深圳，再见！</p>
<p>前一天夜晚，大哥请我们吃散伙饭，一路欢声笑语，饭桌上举杯痛饮，像我们刚认识时吃结伙饭一样。大哥和最后一次组队王者荣耀，大哥依旧超神 Carry 全场，连下三城。这是我们送给大哥最后的胜利，也是大哥送给我们最后的胜利。</p>
<p>再往前几天，大哥举行了交接工作会议，会议上他讲解了满满一大篇的交接文档，以及部分核心业务逻辑的思维导图。涉及核心业务逻辑、环境配置及部署、数据算法对接、中间件模块说明等。基本囊括了大哥进入公司一年多的重要成果。</p>
<p>时间再往前，过年刚来没几天，大家尚沉浸中假日的气氛里、陷入假期综合症中不能自拔，惊闻大哥要撤退了，大家甚至没有做好上班的心理准备，突然受到新年第一暴击，皆哑然叹息。</p>
<p>回想大哥入职一年有余，短短时间，已然成为团队核心主力之一，这也是为何“大哥”称号流传开来。上年度(2017)年终总结大会，大哥荣膺“攻坚奖”，以此表彰大哥上年度的工作成果。</p>
<h3 id="贰"><a href="#贰" class="headerlink" title="贰"></a>贰</h3><p>大哥初入职，彼时团队正值项目重构期：将后台架构由 Golang 迁移到 Java。当时搭了一套 Java 微服务架构，大伙皆摸着石头过河。大哥坐在离我不远的位置，开始了熟悉业务和代码。</p>
<p>因为项目旧数据都存放在 MongoDB，新架构采用 PostgreSQL + MongoDB，大哥首先接触的是这个数据迁移的需求：将部分数据由 MongoDB 导入 PostgreSQL，并编写了部分 DAO 访问数据库的接口。</p>
<p>与其说是“重构”，倒不如说是“重写”，整个重构需要将原 Golang 所有的业务代码用 Java 重写。因为赶时间，加上大家是摸着石头过河，前期很多业务代码写的不甚严谨，写 Test Case 的习惯也没有流行起来。大哥编写了部分接口的 Test Case，并将这个习惯发扬。</p>
<p>在项目重构还在进行的时候，已经出现重构‘重构‘的情况，大哥为整理、优化代码提供诸多帮助和建议，比如抽离了 DAO 层业务的共享代码，使不同 Rest 层项目访问 DAO 层简便了诸多。</p>
<p>项目重构中，为了快速验证新平台架构，本地部署验证的都很匆忙。我们当时采用比较原始的 Git + Maven 部署方式，因为采用微服务架构，有大小十几个项目，每次部署苦不堪言。大哥后来编写几个 Shell 脚本，实现一条命令快速部署多个项目，部署项目从此实现鸟枪换炮。</p>
<p>大哥也承担了部分核心业务逻辑的编写。重构后项目年初终于上线，大哥在上线部署过程中发挥了重要作用，这也导致了在后续的工作中，他甚至承担了部分运维的工作。</p>
<p>上线后，逐渐发现了一些性能的问题，大哥优化完善了项目核心基础数据和统计数据的缓存方式，以及改造了部分业务流程的计算和缓存逻辑。</p>
<p>再往后，大哥一手编写了各个服务的 Dockerfile，以及 Maven 配置 Docker，通过 Docker Compose 编排各种服务，实现线上部署服务 Docker 化。</p>
<p>随着迭代的不断进行，大哥也对业务和代码愈加熟悉。因为产品的特殊性，PM 们经常脑洞大开做一些富含’战略性’、‘创造性‘的新功能，大哥承担了这些新功能的后台职责。亦由于产品的广性，需要做大量兼容性的工作、特殊性的功能、擦屁股般的需求，这些需求也源源不断的流向了大哥的名下。</p>
<p>彼时，大哥俨然已成为团队后台的核心人物之一，大哥的称号也流传越来越广。</p>
<h3 id="叁"><a href="#叁" class="headerlink" title="叁"></a>叁</h3><p>大哥是典型的 90 后，表面文静内心火热，话虽不多人挺利索。</p>
<p>大哥喜欢追各种日漫，就连和大嫂去日本旅游时，狠狠地过了一把动漫粉丝的瘾。当他发出和各种动漫形象合影的朋友圈时，大家纷纷调侃大哥宅男。</p>
<p>大哥对游戏也钟爱有加。有一阵子，我们几人组队打王者荣耀，在我们猥琐发育时，大哥擅长打野位，每每 Carry 我们，成为一个靠谱的队友。</p>
<p>网易吃鸡新出时，我们自然也成为第一批尝鲜者。我成了一个勤劳的快递员，而大哥，无不冲在最前、攻城掠地、收割人头，继续扮演着中国好大哥角色。<br><img src="http://p9.pstatp.com/large/pgc-image/15212951862933fb49583d9" alt="game_img"></p>
<p>大哥也早早的进入了养生了模式，保温杯、枸杞茶，天气稍微变冷就注意保暖，每每被调侃很虚。</p>
<h3 id="肆"><a href="#肆" class="headerlink" title="肆"></a>肆</h3><p>PM 最擅长两件事情：一是脑洞大开做一些富含’战略性‘、’创造性‘的新功能；二是为这些脑洞填土，要么修修补补，要么重新推翻重来，然后未来某个时刻又想回到从前。</p>
<p>大哥难当，大哥更难当。不知何时起，大哥也被这些吃屎般的需求，每每逼的从座位上站起身，绕着座位背后的梁柱而行。每逢此时，我都很想和大哥说一句：QTMD 产品！转而低头做各种“ ”的需求。</p>
<p>我料想大哥应该不会久留了，但没想会这么快，我原以为大哥至少会再呆上半年的。大哥是在拿“攻坚奖”前后提出辞职的，这个决定无论是前还是后，背后都是几个艰难的决定。</p>
<h3 id="伍"><a href="#伍" class="headerlink" title="伍"></a>伍</h3><p>大哥入职有一阵我才知道，大哥并非初入公司，早在读研时已在公司实习过，后来去了百度和网易。</p>
<p>大哥走后，据说大哥离开的原因是遇到天花板了，我们当然知道，大哥本来抱着学习的心态进入公司，一不小心就触摸到了天花板，这里面既有技术上的，也有产品上的，既有可以改变的，更多的是无力改变的。</p>
<h3 id="末"><a href="#末" class="headerlink" title="末"></a>末</h3><p>海阔凭鱼跃，天高任鸟飞。大哥，祝你飞的更高！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/zh-CN/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/zh-CN/">1</a><span class="space">&hellip;</span><a class="page-number" href="/zh-CN/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/zh-CN/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/zh-CN/page/12/">12</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/zh-CN/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2012 – 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Amon Xu</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/xumeng" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  




<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"amonxu","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>

</body>
</html>

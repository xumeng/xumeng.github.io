<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>逐鹿 IT</title>
  
  <subtitle>君子猛猛如玉</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://amonxu.com/"/>
  <updated>2019-02-18T14:18:53.097Z</updated>
  <id>http://amonxu.com/</id>
  
  <author>
    <name>逐鹿 IT</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>六年后，我明白了六年前上司的那次流泪</title>
    <link href="http://amonxu.com/2019/02/17/2019-02-17-Bye-Bye-JiangBo/"/>
    <id>http://amonxu.com/2019/02/17/2019-02-17-Bye-Bye-JiangBo/</id>
    <published>2019-02-17T15:00:01.000Z</published>
    <updated>2019-02-18T14:18:53.097Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://images.unsplash.com/photo-1525857222756-37cdb4e87e36?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1650&amp;q=80" alt="ddd"></p><p>2013 年 6 月，故事的一切，看起来都很美好。</p><p>毕业一两年的我，正在第一家公司里贪婪地成长着，最近两个月刚刚得到提拔，负责公司新兴的业务。这一年，女朋友(现在的老婆)来到我在的这个城市一起生活，事业和爱情都飞速地发展着。</p><p>忽然有天听到一个消息：隔壁工位同部门的小兄弟江波要离职了，我有些愕然。江波是另一个项目的核心负责人之一，小小的个头隐藏着大大的能量。在我们同事之间平日里大言不惭地键盘侠、嘴炮党时，他常常发挥党员作用，说一些能让我们马上安静下来的道理。用现在的话说：他有一种老干部式的智慧。也因为他的老干部身份，每逢一些国际国内波动、社会变革、经济动荡的大议题出现时，我们都会争取让江波加入讨论之中，虽然…他经常嗤之以鼻。</p><p>江波在公司里他很低调，话也不多，每天上班准时背着运动双肩包出现，然后打一保温杯开水，开始一天的工作，等到下班又准时收拾双肩包走人。除非赶项目或者迫不得已，很少看到他在工位上加班。但他仍然是部门老大最喜爱的员工之一，他懂老大，老大也懂他，公认的前途无量。</p><p>我和江波工位虽处隔壁，但工作上并无什么交集，只有一次业务对接的时候，他的专业性让我敬佩不已，甚至很直接地指出了我工作任务中的一些问题，有些问题连我自己都没有想清楚过。从此更是对他暗暗多了几分佩服。</p><p>2013 年是移动互联网发展如火如荼的一年，尽管身处传统公司的我们很难感受到外面的互联网世界快速发展，但江波平日里最喜爱看 36kr 和  YC。在看多了他的这些举动后，我也暗暗地去关注这些，想去了解它们为何有如此魅力，不觉间也被带入了移动互联网的大浪潮里。</p><p><img src="https://images.unsplash.com/photo-1519671482749-fd09be7ccebf?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" alt="drink"></p><p>送别江波的那天，部门里的所有成员都出席了送别宴。过去六年了，我还能记得那天的场景，昏黄的灯光，拥挤的位置，一杯接一杯的啤酒，和微醺的我们。大家言语不多，嘴里只是反复吐出一个字：干。</p><p>那一天，老大情绪有些激动，喝的最多。酒至深处之时，老大呜咽着感叹道：“我不知道为什么，有时候怎么这么难呢！”。大家听闻此言，顿时有些感伤，竟不知说些什么。江波也受了影响有些伤感，拍了拍老大的肩膀。</p><p>那时，我挤在人群之间，不会喝酒却在这一晚喝的有些迷糊。年轻的我，意气风发的我，看到这离别的场景，郁郁寡欢的人群，伤感的老大，我是错愕的，甚至有些想哑然失笑。老大啊老大，你三四十的人了，有家有室，风风雨雨也历经不少了，为何一个下属离职就让你哭成这样。</p><p>这一晚，大家没有谈到江波的未来，江波也没有主动交代，只依稀记得听人说有他去投入到创业大潮中的，有说他去互联网巨头公司的，有说他回老家的。</p><p>宴会结束后，很少喝酒的我带着一身酒气一个人走回了家，女朋友问为何今天破例喝酒，答曰：有个很好的同事离职了，我们一起送别他。    </p><p>江波走后，很快大家便把江波的工作分而食之，好像江波从来没有在过一样。连他的工位，也有另一个同事搬了过来，至今想起那个位置，一半的记忆是江波的，另一半的记忆是后面那个同事的。</p><p>2013 年在移动互联网的滚滚大潮中落下帷幕，2014 年是 O2O 和社交爆发的一年。江波离职的一年后，我也按捺不住，一头扎入了移动互联网的大浪潮中。再后来，浮浮沉沉，跌跌撞撞，成功过，失败过，团结后，孤独过，聚过，散过，相识过，相忘过… </p><p>现在，我已经快要忘记了江波，也快要忘记了那个老大，那个团队。活在当下，过去和历史就是一段虚无的记忆，除了回味，你无法证明它是否真的发生过。</p><p>除非…偶然翻起过去的老照片。当我看到一张张老照片，一张张熟悉的面孔，我才知道，这些东西都没有被遗忘，只是它们被压缩在大脑的最深处，当再次解压的时候，所有那些记忆都会释放迸发出来。</p><p><img src="https://images.unsplash.com/photo-1533158307587-828f0a76ef46?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1267&amp;q=80" alt="memory"></p><p>我又想起了老大的那次流泪，这次，我也有些伤感起来，甚至想流泪。当我想象自己是 2013 年的老大时，我哭了出来。2013 年到底是老大哭了，还是我哭了，他的流泪到底是他真的流泪，还是只是我现在的想象？</p><p>笑，世界陪你笑；哭，你一个人哭。</p><p>我曾以为江波走后，总会回来看我们的，直到我离开公司的时候，也没有见过他，甚至听不到他的任何消息。在我离开公司后，我知道人生路很长，却只有往前，没有向后看，前方的路已经够眼花缭乱，哪还有精力常回头看看。</p><p>人生苦短，相遇相识相知很难，此去一别，也许从此天各一方，再也不见。这大概就是老大那次流泪的原因吧。</p><p><img src="https://images.unsplash.com/photo-1529268209110-62be1d87fe75?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" alt="bye"></p><p><em>后记：2013 年后至今，我再也没有联系过江波，更没见过他，也没有从别人那里打听到他的消息。2014 年后，我再也没有见过老大。某个深夜，我还是很想他们。</em></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://images.unsplash.com/photo-1525857222756-37cdb4e87e36?ixlib=rb-1.2.1&amp;amp;auto=format&amp;amp;fit=crop&amp;amp;w=1650&amp;amp;q=80&quot; a
      
    
    </summary>
    
      <category term="鬼画弧" scheme="http://amonxu.com/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/"/>
    
    
      <category term="拾忆集" scheme="http://amonxu.com/tags/%E6%8B%BE%E5%BF%86%E9%9B%86/"/>
    
  </entry>
  
  <entry>
    <title>《亿级流量网站核心技术》读书总结</title>
    <link href="http://amonxu.com/2019/02/15/2019-02-15-Read/"/>
    <id>http://amonxu.com/2019/02/15/2019-02-15-Read/</id>
    <published>2019-02-15T07:00:03.000Z</published>
    <updated>2019-02-15T07:05:53.173Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="Technology" scheme="http://amonxu.com/categories/Technology/"/>
    
    
      <category term="架构" scheme="http://amonxu.com/tags/%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>地铁里的孤独鸟</title>
    <link href="http://amonxu.com/2018/12/18/2018-12-18-Free-Bird/"/>
    <id>http://amonxu.com/2018/12/18/2018-12-18-Free-Bird/</id>
    <published>2018-12-18T13:07:00.000Z</published>
    <updated>2019-01-16T07:14:22.975Z</updated>
    
    <content type="html"><![CDATA[<p>早高峰的地铁里，<br>人群席卷了站台，<br>十秒后空无一人，<br>除了那只孤独的鸟。<br>她瘦削的身材，<br>高挑的气质，<br>两腿交叉在那，<br>静静地站着，<br>仿佛不属于这个世界。  </p><p>你<br>本是，<br>林中鸟，<br>溪中水，<br>山涧清风，<br>田中野兔，<br>你在这里，<br>带来谁的问候，<br>带走谁的孤独？  </p><p>列车越渐快速的远行，<br>她的身影被拉的愈发修长，<br>她仍低头兀自欣赏自己，<br>列车没能带走了她，<br>她却带走了路人的心。  </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;早高峰的地铁里，&lt;br&gt;人群席卷了站台，&lt;br&gt;十秒后空无一人，&lt;br&gt;除了那只孤独的鸟。&lt;br&gt;她瘦削的身材，&lt;br&gt;高挑的气质，&lt;br&gt;两腿交叉在那，&lt;br&gt;静静地站着，&lt;br&gt;仿佛不属于这个世界。  &lt;/p&gt;
&lt;p&gt;你&lt;br&gt;本是，&lt;br&gt;林中鸟，&lt;br&gt;溪中水，&lt;b
      
    
    </summary>
    
      <category term="鬼画弧" scheme="http://amonxu.com/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/"/>
    
    
      <category term="随笔" scheme="http://amonxu.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>JVM性能调优监控工具jps、jstack、jmap、jhat、jstat、hprof使用详解</title>
    <link href="http://amonxu.com/2018/11/25/2018-11-25-jvm-performance-optimize/"/>
    <id>http://amonxu.com/2018/11/25/2018-11-25-jvm-performance-optimize/</id>
    <published>2018-11-25T14:14:15.000Z</published>
    <updated>2019-01-16T07:47:27.807Z</updated>
    
    <content type="html"><![CDATA[<p>原文链接：<a href="https://my.oschina.net/feichexia/blog/196575" target="_blank" rel="noopener">https://my.oschina.net/feichexia/blog/196575</a></p><p>JVM 性能调优参考资料：</p><p>《Java虚拟机规范》</p><p>《Java Performance》</p><p>《Trouble Shooting Guide for JavaSE 6 with HotSpot VM》: <a href="http://www.oracle.com/technetwork/java/javase/tsg-vm-149989.pdf" target="_blank" rel="noopener">http://www.oracle.com/technetwork/java/javase/tsg-vm-149989.pdf</a> </p><p>《Effective Java》</p><p>VisualVM: <a href="http://docs.oracle.com/javase/7/docs/technotes/guides/visualvm/" target="_blank" rel="noopener">http://docs.oracle.com/javase/7/docs/technotes/guides/visualvm/</a></p><p>jConsole: <a href="http://docs.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html" target="_blank" rel="noopener">http://docs.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html</a></p><p>Monitoring and Managing JavaSE 6 Applications: <a href="http://www.oracle.com/technetwork/articles/javase/monitoring-141801.html" target="_blank" rel="noopener">http://www.oracle.com/technetwork/articles/javase/monitoring-141801.html</a></p><p>BTrace：<a href="https://kenai.com/projects/btrace" target="_blank" rel="noopener">https://kenai.com/projects/btrace</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;原文链接：&lt;a href=&quot;https://my.oschina.net/feichexia/blog/196575&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://my.oschina.net/feichexia/blog/196575&lt;/
      
    
    </summary>
    
      <category term="Technology" scheme="http://amonxu.com/categories/Technology/"/>
    
    
      <category term="Java" scheme="http://amonxu.com/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>如何避免后台IO高负载造成的长时间JVM GC停顿</title>
    <link href="http://amonxu.com/2018/11/24/2018-11-24-eliminating-large-jvm-gc-pauses-caused-by-background-io-traffic/"/>
    <id>http://amonxu.com/2018/11/24/2018-11-24-eliminating-large-jvm-gc-pauses-caused-by-background-io-traffic/</id>
    <published>2018-11-24T13:30:31.000Z</published>
    <updated>2019-01-16T07:47:27.805Z</updated>
    
    <content type="html"><![CDATA[<p>英文原文：<br><a href="https://engineering.linkedin.com/blog/2016/02/eliminating-large-jvm-gc-pauses-caused-by-background-io-traffic" target="_blank" rel="noopener">https://engineering.linkedin.com/blog/2016/02/eliminating-large-jvm-gc-pauses-caused-by-background-io-traffic</a></p><p>译文原文：<br><a href="https://www.jianshu.com/p/ce9b3f0a90f2" target="_blank" rel="noopener">https://www.jianshu.com/p/ce9b3f0a90f2</a></p><p>这里就只贴出结论总结吧：</p><p>有低延迟要求的Java应用程序需要极短的JVM GC停顿。但是，当磁盘IO压力很大时，JVM可能被阻塞一段较长的时间。</p><p>我们对该问题进行了调查，并且发现如下原因：</p><ol><li>JVM GC需要通过发起系统调用<code>write()</code>，来记录GC行为。</li><li><code>write()</code>调用可以被后台磁盘IO所阻塞。</li><li>记录GC日志属于JVM停顿的一部分，因此<code>write()</code>调用的时间也会被计算在JVM STW的停顿时间内。<br>我们提出了一系列解决该问题的方案。重要的是，我们的发现可以帮助JVM实现来改进该问题。对于低延迟应用程序来说，最简单有效的措施是将GC日志文件放到单独的HDD或者高性能磁盘（例如SSD）上，来避免IO竞争。</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;英文原文：&lt;br&gt;&lt;a href=&quot;https://engineering.linkedin.com/blog/2016/02/eliminating-large-jvm-gc-pauses-caused-by-background-io-traffic&quot; target=&quot;
      
    
    </summary>
    
      <category term="Technology" scheme="http://amonxu.com/categories/Technology/"/>
    
    
      <category term="Java" scheme="http://amonxu.com/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>快速排查 Java 的 CPU 性能问题</title>
    <link href="http://amonxu.com/2018/11/23/2018-11-23-Java-Script/"/>
    <id>http://amonxu.com/2018/11/23/2018-11-23-Java-Script/</id>
    <published>2018-11-23T10:45:46.000Z</published>
    <updated>2019-01-16T07:47:27.802Z</updated>
    
    <content type="html"><![CDATA[<!-- START doctoc generated TOC please keep comment here to allow auto update --><!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --><ul><li><a href="#-show-busy-java-threads">🍺 show-busy-java-threads</a><ul><li><a href="#%E7%94%A8%E6%B3%95">用法</a></li><li><a href="#%E7%A4%BA%E4%BE%8B">示例</a></li></ul></li></ul><!-- END doctoc generated TOC please keep comment here to allow auto update --><p><a id="beer-show-busy-java-threadssh"></a><br><a id="beer-show-busy-java-threads"></a></p><h2 id="🍺-show-busy-java-threads"><a href="#🍺-show-busy-java-threads" class="headerlink" title="🍺 show-busy-java-threads"></a>🍺 <a href="https://github.com/oldratlee/useful-scripts/blob/master/show-busy-java-threads" target="_blank" rel="noopener">show-busy-java-threads</a></h2><p>用于快速排查<code>Java</code>的<code>CPU</code>性能问题(<code>top us</code>值过高)，自动查出运行的<code>Java</code>进程中消耗<code>CPU</code>多的线程，并打印出其线程栈，从而确定导致性能问题的方法调用。<br>目前只支持<code>Linux</code>。原因是<code>Mac</code>、<code>Windows</code>的<code>ps</code>命令不支持列出进程的线程<code>id</code>，更多信息参见<a href="https://github.com/oldratlee/useful-scripts/issues/33" target="_blank" rel="noopener">#33</a>，欢迎提供解法。</p><p>PS，如何操作可以参见<a href="http://weibo.com/bluedavy" target="_blank" rel="noopener">@bluedavy</a>的<a href="https://book.douban.com/subject/4848587/" target="_blank" rel="noopener">《分布式Java应用》</a>的【5.1.1 <code>CPU</code>消耗分析】一节，说得很详细：</p><ol><li><code>top</code>命令找出有问题<code>Java</code>进程及线程<code>id</code>：<ol><li>开启线程显示模式（<code>top -H</code>，或是打开<code>top</code>后按<code>H</code>）</li><li>按<code>CPU</code>使用率排序（<code>top</code>缺省是按<code>CPU</code>使用降序，已经合要求；打开<code>top</code>后按<code>P</code>可以显式指定按<code>CPU</code>使用降序）</li><li>记下<code>Java</code>进程<code>id</code>及其<code>CPU</code>高的线程<code>id</code></li></ol></li><li>用进程<code>id</code>作为参数，<code>jstack</code>有问题的<code>Java</code>进程</li><li>手动转换线程<code>id</code>成十六进制（可以用<code>printf %x 1234</code>）</li><li>查找十六进制的线程<code>id</code>（可以用<code>vim</code>的查找功能<code>/0x1234</code>，或是<code>grep 0x1234 -A 20</code>）</li><li>查看对应的线程栈，以分析问题</li></ol><p>查问题时，会要多次上面的操作以分析确定问题，这个过程<strong>太繁琐太慢了</strong>。</p><h3 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">show-busy-java-threads</span><br><span class="line"><span class="comment"># 从所有运行的Java进程中找出最消耗CPU的线程（缺省5个），打印出其线程栈</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 缺省会自动从所有的Java进程中找出最消耗CPU的线程，这样用更方便</span></span><br><span class="line"><span class="comment"># 当然你可以手动指定要分析的Java进程Id，以保证只会显示出那个你关心的那个Java进程的信息</span></span><br><span class="line">show-busy-java-threads -p &lt;指定的Java进程Id&gt;</span><br><span class="line"></span><br><span class="line">show-busy-java-threads -c &lt;要显示的线程栈数&gt;</span><br><span class="line"></span><br><span class="line">show-busy-java-threads &lt;重复执行的间隔秒数&gt; [&lt;重复执行的次数&gt;]</span><br><span class="line"><span class="comment"># 多次执行；这2个参数的使用方式类似vmstat命令</span></span><br><span class="line"></span><br><span class="line">show-busy-java-threads -a &lt;运行输出的记录到的文件&gt;</span><br><span class="line"><span class="comment"># 记录到文件以方便回溯查看</span></span><br><span class="line"></span><br><span class="line">show-duplicate-java-classes -S &lt;存储jstack输出文件的目录&gt;</span><br><span class="line"><span class="comment"># 指定jstack输出文件的存储目录，方便记录以后续分析</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##############################</span></span><br><span class="line"><span class="comment"># 注意：</span></span><br><span class="line"><span class="comment">##############################</span></span><br><span class="line"><span class="comment"># 如果Java进程的用户 与 执行脚本的当前用户 不同，则jstack不了这个Java进程</span></span><br><span class="line"><span class="comment"># 为了能切换到Java进程的用户，需要加sudo来执行，即可以解决：</span></span><br><span class="line">sudo show-busy-java-threads</span><br><span class="line"></span><br><span class="line">show-busy-java-threads -s &lt;指定jstack命令的全路径&gt;</span><br><span class="line"><span class="comment"># 对于sudo方式的运行，JAVA_HOME环境变量不能传递给root，</span></span><br><span class="line"><span class="comment"># 而root用户往往没有配置JAVA_HOME且不方便配置，</span></span><br><span class="line"><span class="comment"># 显式指定jstack命令的路径就反而显得更方便了</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -m选项：执行jstack命令时加上-m选项，显示上Native的栈帧，一般应用排查不需要使用</span></span><br><span class="line">show-busy-java-threads -m</span><br><span class="line"><span class="comment"># -F选项：执行jstack命令时加上 -F 选项（如果直接jstack无响应时，用于强制jstack），一般情况不需要使用</span></span><br><span class="line">show-busy-java-threads -F</span><br><span class="line"><span class="comment"># -l选项：执行jstack命令时加上 -l 选项，显示上更多相关锁的信息，一般情况不需要使用</span></span><br><span class="line"><span class="comment"># 注意：和 -m -F 选项一起使用时，可能会大大增加jstack操作的耗时</span></span><br><span class="line">show-busy-java-threads -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 帮助信息</span></span><br><span class="line">$ show-busy-java-threads -h</span><br><span class="line">Usage: show-busy-java-threads [OPTION]... [delay [count]]</span><br><span class="line">Find out the highest cpu consumed threads of java, and <span class="built_in">print</span> the stack of these threads.</span><br><span class="line"></span><br><span class="line">Example:</span><br><span class="line">  show-busy-java-threads       <span class="comment"># show busy java threads info</span></span><br><span class="line">  show-busy-java-threads 1     <span class="comment"># update every 1 second, (stop by eg: CTRL+C)</span></span><br><span class="line">  show-busy-java-threads 3 10  <span class="comment"># update every 3 seconds, update 10 times</span></span><br><span class="line"></span><br><span class="line">Output control:</span><br><span class="line">  -p, --pid &lt;java pid&gt;      find out the highest cpu consumed threads from the specified java process,</span><br><span class="line">                            default from all java process.</span><br><span class="line">  -c, --count &lt;num&gt;         <span class="built_in">set</span> the thread count to show, default is 5.</span><br><span class="line">  -a, --append-file &lt;file&gt;  specifies the file to append output as <span class="built_in">log</span>.</span><br><span class="line">  -S, --store-dir &lt;dir&gt;     specifies the directory <span class="keyword">for</span> storing intermediate files, and keep files.</span><br><span class="line">                            default store intermediate files at tmp dir, and auto remove after run.</span><br><span class="line">                            use this option to keep files so as to review jstack/top/ps output later.</span><br><span class="line">  delay                     the delay between updates <span class="keyword">in</span> seconds.</span><br><span class="line">  count                     the number of updates.</span><br><span class="line">                            delay/count arguments imitates the style of vmstat <span class="built_in">command</span>.</span><br><span class="line"></span><br><span class="line">jstack control:</span><br><span class="line">  -s, --jstack-path &lt;path&gt;  specifies the path of jstack <span class="built_in">command</span>.</span><br><span class="line">  -F, --force               <span class="built_in">set</span> jstack to force a thread dump.</span><br><span class="line">                            use when jstack &lt;pid&gt; does not respond (process is hung).</span><br><span class="line">  -m, --mix-native-frames   <span class="built_in">set</span> jstack to <span class="built_in">print</span> both java and native frames (mixed mode).</span><br><span class="line">  -l, --lock-info           <span class="built_in">set</span> jstack with long listing. Prints additional information about locks.</span><br><span class="line"></span><br><span class="line">cpu usage calculation control:</span><br><span class="line">  -d, --top-delay           specifies the delay between top samples, default is 0.5 (second).</span><br><span class="line">                            get thread cpu percentage during this delay interval.</span><br><span class="line">                            more info see top -d option. eg: -d 1 (1 second).</span><br><span class="line">  -P, --use-ps              use ps <span class="built_in">command</span> to find busy thread(cpu usage) instead of top <span class="built_in">command</span>,</span><br><span class="line">                            default use top <span class="built_in">command</span>, because cpu usage of ps <span class="built_in">command</span> is expressed as</span><br><span class="line">                            the percentage of time spent running during the entire lifetime of a process,</span><br><span class="line">                            this is not ideal.</span><br><span class="line"></span><br><span class="line">Miscellaneous:</span><br><span class="line">  -h, --<span class="built_in">help</span>                display this <span class="built_in">help</span> and <span class="built_in">exit</span>.</span><br></pre></td></tr></table></figure><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">$ show-busy-java-threads</span><br><span class="line">[1] Busy(57.0%) thread(23355/0x5b3b) stack of java process(23269) under user(admin):</span><br><span class="line"><span class="string">"pool-1-thread-1"</span> prio=10 tid=0x000000005b5c5000 nid=0x5b3b runnable [0x000000004062c000]</span><br><span class="line">   java.lang.Thread.State: RUNNABLE</span><br><span class="line">    at java.text.DateFormat.format(DateFormat.java:316)</span><br><span class="line">    at com.xxx.foo.services.common.DateFormatUtil.format(DateFormatUtil.java:41)</span><br><span class="line">    at com.xxx.foo.shared.monitor.schedule.AppMonitorDataAvgScheduler.run(AppMonitorDataAvgScheduler.java:127)</span><br><span class="line">    at com.xxx.foo.services.common.utils.AliTimer<span class="variable">$2</span>.run(AliTimer.java:128)</span><br><span class="line">    at java.util.concurrent.ThreadPoolExecutor<span class="variable">$Worker</span>.runTask(ThreadPoolExecutor.java:886)</span><br><span class="line">    at java.util.concurrent.ThreadPoolExecutor<span class="variable">$Worker</span>.run(ThreadPoolExecutor.java:908)</span><br><span class="line">    at java.lang.Thread.run(Thread.java:662)</span><br><span class="line"></span><br><span class="line">[2] Busy(26.1%) thread(24018/0x5dd2) stack of java process(23269) under user(admin):</span><br><span class="line"><span class="string">"pool-1-thread-2"</span> prio=10 tid=0x000000005a968800 nid=0x5dd2 runnable [0x00000000420e9000]</span><br><span class="line">   java.lang.Thread.State: RUNNABLE</span><br><span class="line">    at java.util.Arrays.copyOf(Arrays.java:2882)</span><br><span class="line">    at java.lang.AbstractStringBuilder.expandCapacity(AbstractStringBuilder.java:100)</span><br><span class="line">    at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:572)</span><br><span class="line">    at java.lang.StringBuffer.append(StringBuffer.java:320)</span><br><span class="line">    - locked &lt;0x00000007908d0030&gt; (a java.lang.StringBuffer)</span><br><span class="line">    at java.text.SimpleDateFormat.format(SimpleDateFormat.java:890)</span><br><span class="line">    at java.text.SimpleDateFormat.format(SimpleDateFormat.java:869)</span><br><span class="line">    at java.text.DateFormat.format(DateFormat.java:316)</span><br><span class="line">    at com.xxx.foo.services.common.DateFormatUtil.format(DateFormatUtil.java:41)</span><br><span class="line">    at com.xxx.foo.shared.monitor.schedule.AppMonitorDataAvgScheduler.run(AppMonitorDataAvgScheduler.java:126)</span><br><span class="line">    at com.xxx.foo.services.common.utils.AliTimer<span class="variable">$2</span>.run(AliTimer.java:128)</span><br><span class="line">    at java.util.concurrent.ThreadPoolExecutor<span class="variable">$Worker</span>.runTask(ThreadPoolExecutor.java:886)</span><br><span class="line">    at java.util.concurrent.ThreadPoolExecutor<span class="variable">$Worker</span>.run(ThreadPoolExecutor.java:908)</span><br><span class="line">    at java.lang.Thread.run(Thread.java:662)</span><br><span class="line"></span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>上面的线程栈可以看出，<code>CPU</code>消耗最高的2个线程都在执行<code>java.text.DateFormat.format</code>，业务代码对应的方法是<code>shared.monitor.schedule.AppMonitorDataAvgScheduler.run</code>。可以基本确定：</p><ul><li><code>AppMonitorDataAvgScheduler.run</code>调用<code>DateFormat.format</code>次数比较频繁。</li><li><code>DateFormat.format</code>比较慢。（这个可以由<code>DateFormat.format</code>的实现确定。）</li></ul><p>多执行几次<code>show-busy-java-threads</code>，如果上面情况高概率出现，则可以确定上面的判定。<br>因为调用越少代码执行越快，则出现在线程栈的概率就越低。<br>脚本有自动多次执行的功能，指定 重复执行的间隔秒数/重复执行的次数 参数。</p><p>分析<code>shared.monitor.schedule.AppMonitorDataAvgScheduler.run</code>实现逻辑和调用方式，以优化实现解决问题。</p><h4 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h4><blockquote><p>转载自 <a href="https://github.com/oldratlee/useful-scripts" target="_blank" rel="noopener">https://github.com/oldratlee/useful-scripts</a><br>致谢 <a href="https://github.com/oldratlee" target="_blank" rel="noopener">oldratlee</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- START doctoc generated TOC please keep comment here to allow auto update --&gt;
&lt;!-- DON&#39;T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPD
      
    
    </summary>
    
      <category term="Technology" scheme="http://amonxu.com/categories/Technology/"/>
    
    
      <category term="Java" scheme="http://amonxu.com/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>关于 Hash 比较好的一篇文章</title>
    <link href="http://amonxu.com/2018/11/22/2018-11-22-Hash/"/>
    <id>http://amonxu.com/2018/11/22/2018-11-22-Hash/</id>
    <published>2018-11-22T06:15:16.000Z</published>
    <updated>2019-01-16T07:47:27.800Z</updated>
    
    <content type="html"><![CDATA[<p>文章链接:<br><a href="https://www.hchstudio.cn/article/2018/799a/" target="_blank" rel="noopener">https://www.hchstudio.cn/article/2018/799a/</a></p><p>主要的散列冲突的解决办法</p><ul><li>开放寻址法</li><li>拉链法（链地址法）</li><li>再散列法</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;文章链接:&lt;br&gt;&lt;a href=&quot;https://www.hchstudio.cn/article/2018/799a/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.hchstudio.cn/article/2018/799a/
      
    
    </summary>
    
      <category term="Technology" scheme="http://amonxu.com/categories/Technology/"/>
    
    
      <category term="Java" scheme="http://amonxu.com/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>《平凡的世界》读后感</title>
    <link href="http://amonxu.com/2018/11/15/2018-11-15-Oridnary-World/"/>
    <id>http://amonxu.com/2018/11/15/2018-11-15-Oridnary-World/</id>
    <published>2018-11-15T13:28:00.000Z</published>
    <updated>2019-01-16T08:18:58.841Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1544113284671&amp;di=773633a67536c922954ac5b4bd81e549&amp;imgtype=0&amp;src=http%3A%2F%2Fy2.ifengimg.com%2Fcmpp%2F2014%2F01%2F21%2F14%2Fbe3f2868-4191-4e9b-b44d-370fd5e6ffd2.jpg" alt="cover"></p><p>故事从孙少平开始，少平在原西县城上高中，贫困的他每天等别人吃完饭后才去偷偷拿他的两个非洲黑馒头，后来和同拿非洲馒头的郝红梅同病相怜，成为知心朋友。在那个物质匮乏，思想贫瘠的时代，给予两个可怜的人莫大鼓励。</p><p>孙少安是生产队长，尽管他干农活在村里数一数二，但父母年迈，尚有老奶奶，弟弟妹妹上学，拖着一个贫困的家庭，在黄土地里的劳作最终也不能盈余一点。县城里有他青梅竹马的润叶，润叶叫他去县城见面，她必须要和他倾诉感情。</p><p>少安最后主动选择了消失，他认清了自己是个农民，并且以后也是农民，农民和小资产阶级是没有未来的。后来他娶了同是农民的贺秀莲，这辈子也算枕边有个相互照料的人。</p><p>田润叶是县城里的教师，寄托在二爸田福军的屋檐下，她和少安一样，无法摆脱所处阶级的禁锢，和舔狗李向前结婚。她根本不爱李向前，被李向前羞辱后一个人独过，直到李向前成为残疾后莫名其妙地圣母心发作，回去和他一起生活。</p><p>少平高中毕业后，去了黄原揽活，和田晓霞渐生情愫。原以为他会陷入到安排落户的曹书记的安排里，但他后面还是去了铜城煤矿，结识了可能相处一辈子的慧英嫂一家。</p><p>田晓霞和少平相互倾心，他们跨越了彼此的阶级鸿沟，尽管都不知未来会如何，但人生苦短及时享乐。路遥索性让他们没有未来，不管现实还是故事，这个阶级鸿沟谁也跨越不了。因为这不是爽文，是平凡的世界。平凡的世界谁也不是超级英雄，顶多是个平民英雄。少平洪水中救了侯玉英当了一回英雄，晓霞洪水中救小女孩当了烈士。</p><p>王满银，一个自以为读了点书不愿务农的二流子，一个敢革命时代搞资本主义的老鼠药贩子，一个不愿打柴干脆去田沟里晒太阳取暖的二傻子。打从放开资本主义和市场经济后，满银同志便走南闯北的逛，黄原、省城、上海，甚至南中国的深圳沙头角，他都能逛了去。如果不是海关拦着，他可能逛到香港去了，现在说不定就是个商业巨鳄、XX大王。忽然有一天他照了下镜子，岁月蹉跎容颜衰老，他意识到已经不是那个靠骚就勾引到兰花的年轻王满银，他火烧屁股般赶到家里，再也不愿意离开。</p><p>田福堂，双水村权力最大的人，他控制了村里上上下下，唯独家里两个孩子脱离了他的控制。润叶在政治婚姻的巅峰时如同离婚，在婚姻跌入谷底时又选择回去。润生前半生是个乖乖仔，在重遇寡妇郝红梅时，义无反顾的在一起。田福堂一辈子没做什么大事，唯一一件开山辟岭的大事件，除了去金家的那一跪和炸山那一炮外，再无动静。农村翻天覆地的变化时，他躺在石碾上晒太阳，等到卸去了权力后，他一人带着继孙子和亲孙子，来看热闹。</p><p>田福军，平凡的世界少有的不平凡人。从县里到市里，从市里到省里，虽然偶有政敌和障碍，但也算是步步高升。他没有想到女儿和一个挖煤工人在一起，也没有想到女儿会在洪灾来临时第一时间赶往前线，更没想到深夜会接到女儿的噩耗。在那一刻，田福军也是平凡人，众生皆苦。</p><p>孙少安的事业几经波折，但早已双水村第一农民企业家，但在他接手的乡镇砖瓦厂，事业新巅峰时，秀莲得了肺癌，当然很可能是长期的劳作，加上在砖厂里。</p><p>少平在师父拯救别人意外身亡后承担了师父家里男人的角色，同样在自己拯救别人后，破相了。尽管金秀向他表示了爱意，但自尊心强的他，永远也不会答应。故事的最后，他独自坐车回去铜城，如无意外，将成为下一个王世才。别忘了王世才出场时的介绍，他背驼的厉害，镶着两颗金牙，这是煤矿留给他的纪念，也是颁给他的荣耀勋章。少平领取了勋章后，也是真正的成为煤矿的人，他和慧英嫂再无隔阂。</p><p>路遥是一个出身上世纪黄土地的作家，对于那个时代和黄土地，写起来得心应手，一方面是他本身生活在那个时代那个地方，另一方面他写作时也回到黄土地，查阅了很多资料，咨询了很多人，为此他耗尽了生命的力量。他真实的刻画了双水村，和双水村的人，几十年的历史变迁，几代人的利害纠葛。尤其是农村的那种既能看到些许未来的盼望，又能一眼看到尽头的绝望。</p><p>尽管文笔略显稚嫩，部分人物太脸谱化，官场描述太苍白，但这部书仍不失为一个乡土文学的经典之作。作为一个生于农村长于农村的乡下孩子，即使相隔几十年，仍然能找到许多共鸣。</p><p>我爱农村，我恨农村，有时想回到那里，有时想离开那里。我们都在平凡的世界，众生皆苦。</p><p><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=4026798550,3004258749&amp;fm=26&amp;gp=0.jpg" alt="111"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://timgsa.baidu.com/timg?image&amp;amp;quality=80&amp;amp;size=b9999_10000&amp;amp;sec=1544113284671&amp;amp;di=773633a67536c922954ac5b4bd
      
    
    </summary>
    
      <category term="鬼画弧" scheme="http://amonxu.com/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/"/>
    
    
      <category term="随笔" scheme="http://amonxu.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>回</title>
    <link href="http://amonxu.com/2018/11/07/2018-11-07-Back/"/>
    <id>http://amonxu.com/2018/11/07/2018-11-07-Back/</id>
    <published>2018-11-07T10:59:00.000Z</published>
    <updated>2019-01-16T07:02:38.174Z</updated>
    
    <content type="html"><![CDATA[<p>像路遥这样通过努力摆脱农村走进城市的作家，在达成愿望之后又自觉不自觉地返回了农村，并打算一辈子写农村。“在农村的时候，总有一种本能要摆脱，等到出去了，又觉得离不开这里，又会回来。这是很多从农村走去出的人共同的心情。”王天笑说。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;像路遥这样通过努力摆脱农村走进城市的作家，在达成愿望之后又自觉不自觉地返回了农村，并打算一辈子写农村。“在农村的时候，总有一种本能要摆脱，等到出去了，又觉得离不开这里，又会回来。这是很多从农村走去出的人共同的心情。”王天笑说。&lt;/p&gt;

      
    
    </summary>
    
      <category term="鬼画弧" scheme="http://amonxu.com/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/"/>
    
    
      <category term="故乡" scheme="http://amonxu.com/tags/%E6%95%85%E4%B9%A1/"/>
    
  </entry>
  
  <entry>
    <title>我与A股的股市(一)</title>
    <link href="http://amonxu.com/2018/10/18/2018-10-18-A-shares/"/>
    <id>http://amonxu.com/2018/10/18/2018-10-18-A-shares/</id>
    <published>2018-10-18T03:12:13.000Z</published>
    <updated>2019-01-16T08:18:33.197Z</updated>
    
    <content type="html"><![CDATA[<p>刚炒股时：老子都上雪球了，手握百十万资产，分分钟几千几万上下，看得上你这破100元购物券？<br>炒股后：哪里还有这样的活动？真香！</p><p>说起股票，我算是接触的比较晚的。就连最近的2015年大牛市与大熊市都错过了，5000点是什么？李大霄是谁？那时候的我正值事业的剧烈变动中，一心只想在事业上再攀高峰。</p><p>2017年事业稍显稳定，加上手里有点资产，开始膨胀了。因缘际会之下，我接触了股市，然后开了个户，先实盘买入第一支股票：驰宏锌锗。几天后，我成功亏损了几十元。</p><p>我开始怀疑自己了，我也许不适合做这个，我的资产亏损了几十元，好像亏损了几十万，因为这几十块的差别，导致我差几十元登上福布斯排行榜榜，追悔莫及。</p><p>接下来，在每天的上上下下几元十几元几十元后，我厌烦了这种几块钱的买卖，准备开始加大投入。</p><p>彼时，新能源一片火热。火热的市场环境，清晰可见的未来，加上身边随处可见的比亚迪和绿色的新能源牌照，我感觉可以在此领域开启我的巴菲特投资之路。</p><p>在深入了解新能源行业的上下游情况和相关企业后，以及查看对应龙头的相关信息，我购入了第二支股票：赣锋锂业，价格60多元。</p><p>当时赣锋锂业一路上行，炙手可热。有人觉得到顶了，有人觉得还有上升空间，各种鱼龙混杂的投资者和假先知们大行其道。站在风口上，看着每天大红的持仓和不断翻动的数字，我又膨胀地觉得自己也许就是投资的料。</p><p>赣锋锂业继续向上突破，市场依然各种情绪在波动，在泛滥，而每一天的各种情绪，都是前一天的情绪在复制，在延续。</p><p>都说懂得什么时候买入的是高手，懂得什么时候卖的是大神。而我既不懂得什么时候买，也不懂得什么时候卖。买入担心下一刻就跌，卖出又担心下一刻会涨。犹豫不决之下，买入的一直在手里憋着，且时不时忍不住又贪婪地买了一些。</p><p>站在风口，猪也能飞，看着财富一天天不断的在放大，我终于有一天开始觉得坐立不安了。我咨询了一些业界前辈和专家，问他们怎么看。他们众口纷纭，有的说涨幅已经透支了未来的潜力，接下来会回调，有的说市场长期看好。当他们问我的看好的价位是多少，我随口说：120。</p><p>鬼才信呢！我默默地把心理价位定为100，一定有很多个和我一样这样想的。那么到底是永远都到不了100呢，还是不到100就故意不到100，还是到了100也不停步继续攀登，还是100压根是个无所谓的节点？</p><p>墨菲定律说如果一件事情可能发生，那么它一定会发生。2017年9月11号，赣锋锂业最高价100元整，收盘价100元整，所有人都在盯着100元整这个价位。明天好看了！</p><p>2017年9月12日，赣锋锂业开盘突破100元，交易市场剧烈变动，最高达到103.49元，唱多者和唱空者还没来及相互打脸，然后一路下行，最低90元整，最后收盘92.3元。多军和空军只能互相抚摸肿胀的脸。</p><p>至于我？我的那些憋在手里的怎么处理的？留给大家猜想吧。不过我想说的是，你们每想到的一种操作，这个市场都有人做到了。</p><p>这就是A股，一个普通的小股民的故事，它是你，也是我，更是每一个人。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;刚炒股时：老子都上雪球了，手握百十万资产，分分钟几千几万上下，看得上你这破100元购物券？&lt;br&gt;炒股后：哪里还有这样的活动？真香！&lt;/p&gt;
&lt;p&gt;说起股票，我算是接触的比较晚的。就连最近的2015年大牛市与大熊市都错过了，5000点是什么？李大霄是谁？那时候的我正值事业的
      
    
    </summary>
    
      <category term="鬼画弧" scheme="http://amonxu.com/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/"/>
    
    
      <category term="Stocks" scheme="http://amonxu.com/tags/Stocks/"/>
    
  </entry>
  
  <entry>
    <title>Charles 抓 HTTPS 包设置</title>
    <link href="http://amonxu.com/2018/09/28/2018-09-28-iOS-Setting/"/>
    <id>http://amonxu.com/2018/09/28/2018-09-28-iOS-Setting/</id>
    <published>2018-09-28T03:12:13.000Z</published>
    <updated>2019-01-16T08:18:11.821Z</updated>
    
    <content type="html"><![CDATA[<p>手机浏览器打开 <a href="http://chls.pro/ssl" target="_blank" rel="noopener">http://chls.pro/ssl</a>，安装相关证书即可。</p><p>部分设备安装证书后还有问题，请看下面：</p><blockquote><p>On iOS 10.3: Settings &gt; General &gt; About (logically…) &gt; Certificate Trust Settings &gt; Enable Full Trust for Root Certificates</p></blockquote><p>参考：</p><p><a href="https://forums.developer.apple.com/message/212408#212408" target="_blank" rel="noopener">https://forums.developer.apple.com/message/212408#212408</a></p><p><a href="https://forums.developer.apple.com/thread/71789" target="_blank" rel="noopener">https://forums.developer.apple.com/thread/71789</a></p><p><a href="https://github.com/bumaociyuan/ios-ipa-server/issues/23#issuecomment-293828854" target="_blank" rel="noopener">https://github.com/bumaociyuan/ios-ipa-server/issues/23#issuecomment-293828854</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;手机浏览器打开 &lt;a href=&quot;http://chls.pro/ssl&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://chls.pro/ssl&lt;/a&gt;，安装相关证书即可。&lt;/p&gt;
&lt;p&gt;部分设备安装证书后还有问题，请看下面：&lt;/p&gt;
&lt;bl
      
    
    </summary>
    
      <category term="Technology" scheme="http://amonxu.com/categories/Technology/"/>
    
    
      <category term="Charles" scheme="http://amonxu.com/tags/Charles/"/>
    
  </entry>
  
  <entry>
    <title>四季怨</title>
    <link href="http://amonxu.com/2018/08/29/2018-08-29-Seasons-Regret/"/>
    <id>http://amonxu.com/2018/08/29/2018-08-29-Seasons-Regret/</id>
    <published>2018-08-29T04:06:05.000Z</published>
    <updated>2019-01-16T08:08:40.559Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://wx4.sinaimg.cn/mw690/8cba4200gy1fuqg12kfqmj20yi1pcgp3.jpg" alt="sjy"></p><p><strong>四季怨</strong> <a href="http://music.163.com/#/m/song?id=424477863" target="_blank" rel="noopener">🎵</a>  </p><p> 樱红柳绿春光转，<br> 山碧水墨夏意暖。<br> 云雨秋风携冬来，<br> 犹望美人恨生晚。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://wx4.sinaimg.cn/mw690/8cba4200gy1fuqg12kfqmj20yi1pcgp3.jpg&quot; alt=&quot;sjy&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;四季怨&lt;/strong&gt; &lt;a href=&quot;http://music
      
    
    </summary>
    
      <category term="鬼画弧" scheme="http://amonxu.com/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/"/>
    
    
      <category term="随笔" scheme="http://amonxu.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>青衫湿</title>
    <link href="http://amonxu.com/2018/08/28/2018-08-28-Qing-Shan-Shi/"/>
    <id>http://amonxu.com/2018/08/28/2018-08-28-Qing-Shan-Shi/</id>
    <published>2018-08-28T08:32:45.000Z</published>
    <updated>2019-01-16T08:08:21.484Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://wx2.sinaimg.cn/mw690/8cba4200gy1fuqg30f69dj20yi1pcgph.jpg" alt="qss"></p><p><strong>青衫湿</strong> <a href="http://music.163.com/#/m/song?id=461656630" target="_blank" rel="noopener">🎵</a>  </p><p> 登高车马深，<br> 倚楼山水昏。<br> 每见尾气起，<br> 犹思炊烟升。<br> 挥汗十余载，<br> 无悔付青春。<br> 愿求她长伴，<br> 青衫易功勋。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://wx2.sinaimg.cn/mw690/8cba4200gy1fuqg30f69dj20yi1pcgph.jpg&quot; alt=&quot;qss&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;青衫湿&lt;/strong&gt; &lt;a href=&quot;http://music
      
    
    </summary>
    
      <category term="鬼画弧" scheme="http://amonxu.com/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/"/>
    
    
      <category term="随笔" scheme="http://amonxu.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>UITextView 单行模式和 Send 按钮发送</title>
    <link href="http://amonxu.com/2018/07/19/2018-07-19-UITextView/"/>
    <id>http://amonxu.com/2018/07/19/2018-07-19-UITextView/</id>
    <published>2018-07-19T03:12:13.000Z</published>
    <updated>2019-01-16T07:47:27.793Z</updated>
    
    <content type="html"><![CDATA[<p>设置单行模式，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">textView.textContainer.maximumNumberOfLines</span><br></pre></td></tr></table></figure></p><p>设置键盘上的 Send 按钮发送<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text &#123;</span><br><span class="line"></span><br><span class="line">    if([text isEqualToString:@&quot;\n&quot;]) &#123;</span><br><span class="line">        [textView resignFirstResponder];</span><br><span class="line">        return NO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;设置单行模式，&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;
      
    
    </summary>
    
      <category term="Technology" scheme="http://amonxu.com/categories/Technology/"/>
    
    
      <category term="iOS" scheme="http://amonxu.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>中美贸易战：A股与美股的天上人间</title>
    <link href="http://amonxu.com/2018/07/12/2018-07-12-Damn-A-shares/"/>
    <id>http://amonxu.com/2018/07/12/2018-07-12-Damn-A-shares/</id>
    <published>2018-07-12T10:18:18.000Z</published>
    <updated>2019-01-16T08:18:30.185Z</updated>
    
    <content type="html"><![CDATA[<p>中美贸易战来袭：<br>A股：我跌<br>美股：我意思一下  </p><p>贸易战势头加剧：<br>A股：我继续跌<br>美股：我跟跌  </p><p>贸易战恐慌：<br>A股：我大跌<br>美股：我再意思一下  </p><p>双方有意磋谈：<br>A股：我还跌<br>美股：该涨了吧（一次上涨抹平跌幅）  </p><p>双方会谈：<br>A股：我涨一点意思一下<br>美股：涨涨涨，创新高  </p><p>特朗普出尔反尔：<br>A股：我暴跌（一次下跌抹平涨幅）<br>美股：咋回事，我涨  </p><p>贸易战卷土重来：<br>A股：我猛跌，创新低，夭寿啦夭寿啦<br>美股：你冷静点，我涨了  </p><p>贸易战云里雾里：<br>A股：我继续跌，下探底部在哪<br>美股：不好意思，我又创新高了  </p><p>贸易战不知所终：<br>A股：怕了吗，信不信我还是跌<br>美股：来人啊！救命啊！这里有个神经病啊……  </p><p><img src="http://p3.pstatp.com/large/pgc-image/1529890701829ba3799f673" alt="pic"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;中美贸易战来袭：&lt;br&gt;A股：我跌&lt;br&gt;美股：我意思一下  &lt;/p&gt;
&lt;p&gt;贸易战势头加剧：&lt;br&gt;A股：我继续跌&lt;br&gt;美股：我跟跌  &lt;/p&gt;
&lt;p&gt;贸易战恐慌：&lt;br&gt;A股：我大跌&lt;br&gt;美股：我再意思一下  &lt;/p&gt;
&lt;p&gt;双方有意磋谈：&lt;br&gt;A股：我还跌&lt;br
      
    
    </summary>
    
      <category term="鬼画弧" scheme="http://amonxu.com/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/"/>
    
    
      <category term="Stocks" scheme="http://amonxu.com/tags/Stocks/"/>
    
  </entry>
  
  <entry>
    <title>临行小事</title>
    <link href="http://amonxu.com/2018/06/20/2018-06-20-Farewell-Shenzhen/"/>
    <id>http://amonxu.com/2018/06/20/2018-06-20-Farewell-Shenzhen/</id>
    <published>2018-06-20T10:17:19.000Z</published>
    <updated>2019-01-16T08:22:34.593Z</updated>
    
    <content type="html"><![CDATA[<p>妻子在给女儿换衣服，<br>丈夫顶着蓬松的头发四处寻找，<br>“梳子呢，你带走了吗？”<br>“嗯，在包里”<br>丈夫转身去行李里翻找。</p><p>妻子换罢衣服，<br>过来从一堆行李里利索地拿起了梳子。<br>丈夫接过梳子去镜前梳头发。  </p><p>“你为我梳一次头发吧”<br>“不会”<br>“你梳了那么多次了，给我梳一次吧”  </p><p>妻子走来走去地收拾着东西，<br>丈夫拿着梳子跟在后面，<br>拗不过，妻子拿过梳子。</p><p>这是她第一次为他梳头，<br>零星的白发藏在一头并不浓密的头发中间，<br>她用手抚握住前面的头发，<br>用梳子轻轻地往后梳。</p><p>等到几束头发都梳到后面，<br>他递上捏在手中的皮筋，<br>她拿起皮筋将握在手中的头发扎起来。</p><p>她欠身准备继续去忙，<br>他拉着她的手，<br>不舍放开。</p><p>他凝视着镜中的自己，<br>还没等她们离开，<br>他便有些不舍了。<br>他对着镜子咧嘴扭曲着五官，<br>想记起些什么。  </p><p>他换上鞋子，准备出门。<br>她唤女儿，<br>“跟爸爸来个临别的拥抱吧”<br>女儿马上黏了过来，<br>他俯下身子抱着女儿。</p><p>“明天这个时候你们就在老家啦”<br>“爸爸，你不跟我们回去吗”<br>“爸爸在这里，等你们”</p><p>他再往下俯了些，<br>然后起身离去。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;妻子在给女儿换衣服，&lt;br&gt;丈夫顶着蓬松的头发四处寻找，&lt;br&gt;“梳子呢，你带走了吗？”&lt;br&gt;“嗯，在包里”&lt;br&gt;丈夫转身去行李里翻找。&lt;/p&gt;
&lt;p&gt;妻子换罢衣服，&lt;br&gt;过来从一堆行李里利索地拿起了梳子。&lt;br&gt;丈夫接过梳子去镜前梳头发。  &lt;/p&gt;
&lt;p&gt;“你为我
      
    
    </summary>
    
      <category term="鬼画弧" scheme="http://amonxu.com/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/"/>
    
    
      <category term="随笔" scheme="http://amonxu.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>福田一梦，南山三年</title>
    <link href="http://amonxu.com/2018/06/12/2018-06-12-Shenzhen-Dream/"/>
    <id>http://amonxu.com/2018/06/12/2018-06-12-Shenzhen-Dream/</id>
    <published>2018-06-12T10:17:16.000Z</published>
    <updated>2019-01-16T07:14:23.061Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="鬼画弧" scheme="http://amonxu.com/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/"/>
    
    
      <category term="深圳" scheme="http://amonxu.com/tags/%E6%B7%B1%E5%9C%B3/"/>
    
  </entry>
  
  <entry>
    <title>2018 高考</title>
    <link href="http://amonxu.com/2018/06/06/2018-06-06-Gao-Kao/"/>
    <id>http://amonxu.com/2018/06/06/2018-06-06-Gao-Kao/</id>
    <published>2018-06-06T10:18:18.000Z</published>
    <updated>2019-01-16T07:56:41.296Z</updated>
    
    <content type="html"><![CDATA[<p>很快，2018高考来了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;很快，2018高考来了。&lt;/p&gt;

      
    
    </summary>
    
      <category term="鬼画弧" scheme="http://amonxu.com/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/"/>
    
    
      <category term="随笔" scheme="http://amonxu.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>六一快乐</title>
    <link href="http://amonxu.com/2018/06/01/2018-06-01-Be-Boy/"/>
    <id>http://amonxu.com/2018/06/01/2018-06-01-Be-Boy/</id>
    <published>2018-06-01T10:00:00.000Z</published>
    <updated>2019-01-16T07:56:32.799Z</updated>
    
    <content type="html"><![CDATA[<p>儿童节快乐！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;儿童节快乐！&lt;/p&gt;

      
    
    </summary>
    
      <category term="鬼画弧" scheme="http://amonxu.com/categories/%E9%AC%BC%E7%94%BB%E5%BC%A7/"/>
    
    
      <category term="随笔" scheme="http://amonxu.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>两个评论组件</title>
    <link href="http://amonxu.com/2018/05/22/2018-05-22-Disqus/"/>
    <id>http://amonxu.com/2018/05/22/2018-05-22-Disqus/</id>
    <published>2018-05-22T10:51:12.000Z</published>
    <updated>2019-01-16T07:47:27.790Z</updated>
    
    <content type="html"><![CDATA[<p>博客的评论组件，由多说，转Disqus，再转Gitment。</p><p>前两天上网时，忽然发现Disqus的评论框和Gitment并存在一起。</p><p>想到应该是虽然配置了Gitment，但是并没有把Disqus关掉，因为平时上网比较低调，所以压根看不到Disqus。</p><p>看到Disqus备感亲切，虽然自接入Disqus以来，未曾收到一条评论，但忽然要将其关闭了，也有些不舍。</p><p>Disqus应该是世界上最好用的评论系统了，可惜我们用不了。</p><p>GG！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;博客的评论组件，由多说，转Disqus，再转Gitment。&lt;/p&gt;
&lt;p&gt;前两天上网时，忽然发现Disqus的评论框和Gitment并存在一起。&lt;/p&gt;
&lt;p&gt;想到应该是虽然配置了Gitment，但是并没有把Disqus关掉，因为平时上网比较低调，所以压根看不到Disqu
      
    
    </summary>
    
      <category term="Technology" scheme="http://amonxu.com/categories/Technology/"/>
    
    
      <category term="Blog" scheme="http://amonxu.com/tags/Blog/"/>
    
  </entry>
  
</feed>
